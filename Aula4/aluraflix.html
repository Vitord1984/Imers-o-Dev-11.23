<html>

<head>
  <title>
    Imersão Dev
  </title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="container">
    <h1 class="page-title">
      Aluraflix
    </h1>
    <img src="https://www.alura.com.br/assets/img/imersoes/dev-2021/logo-imersao-aluraflix.svg" class="page-logo" alt="">
    <p class="page-subtitle">
      Qual seu filme favorito?
    </p>
    <div class="form-wrapper">
      <input type="text" id="filmeFavorito" name="filme" placeholder="Insira endereço de imagem">
      <input type="text" id="filmeTrailer" name="trailer" placeholder="Insira endereço do trailer">
      <button onClick="adicionarFilme()">Adicionar Filme</button>
    </div>
  </div>
  <div id="listaFilmes"></div>
  <a href="https://alura.com.br/" target="_blank">
    <img src="https://www.alura.com.br/assets/img/home/alura-logo.svg" alt="" class="alura-logo">
  </a>

  <script>
    function adicionarFilme() {
      let filmeFavorito = document.getElementById('filmeFavorito').value;
      let filmeTrailer = document.getElementById('filmeTrailer').value;
      let elementoListaFilmes = document.getElementById('listaFilmes');

      if (filmeFavorito.endsWith('.jpg') || filmeFavorito.endsWith('.png') || filmeFavorito.endsWith('.gif') || filmeFavorito.endsWith('.jpeg')) {
        let link = document.createElement('a');
        link.href = filmeTrailer;
        link.target = '_blank';

        let img = document.createElement('img');
        img.src = filmeFavorito;

        link.appendChild(img);
        elementoListaFilmes.appendChild(link);

        document.getElementById('filmeFavorito').value = '';
        document.getElementById('filmeTrailer').value = '';
      } else {
        alert('Por favor, insira um link de imagem válido!');
      }
    }
  </script>
</body>

</html>